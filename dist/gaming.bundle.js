(()=>{"use strict";var e="scoreBoard";var t,n=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))},r=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},o="3d1fc38204541bdd53f5ba361df76c70";function a(){try{return window.location.search.substring(1).split("=")[1]}catch(e){return"unknown"}}function i(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,fetch("https://api.themoviedb.org/3/person/popular?api_key=".concat(o,"&language=en-US&page=").concat(e),{method:"GET",headers:{"content-type":"application/json"}})];case 1:return[2,t.sent().json()]}}))}))}function c(){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return t?[2,t]:[4,fetch("https://api.themoviedb.org/3/configuration?api_key=".concat(o),{method:"GET",headers:{"content-type":"application/json"}})];case 1:return[4,e.sent().json()];case 2:return[2,t=e.sent()]}}))}))}var s=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))},u=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},l=!1,f=0,d=0,h=0,m=3;function b(){return s(this,void 0,void 0,(function(){var e,t,n,r,o;return u(this,(function(a){switch(a.label){case 0:return[4,i(Math.floor(10*Math.random())+1)];case 1:for(e=a.sent(),t=e.results[Math.floor(Math.random()*e.results.length)];null===t.profile_path||void 0===t.profile_path||"null"===t.profile_path;)t=e.results[Math.floor(Math.random()*e.results.length)];return[4,c()];case 2:return n=a.sent(),r={name:t.name,img:(s=t.profile_path,u=n.images.base_url,"".concat(u,"h632").concat(s)),gender:t.gender},o=e.results.filter((function(e){if(e.gender===r.gender&&e.name!==r.name)return e.name})).map((function(e){return e.name})),(o=o.slice(0,5)).push(r.name),function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}}(o),[2,{celebrity:r,wordBank:{names:o}}]}var s,u}))}))}function p(){return s(this,void 0,void 0,(function(){var e,t,n,r;return u(this,(function(o){switch(o.label){case 0:return l=!1,h++,[4,b()];case 1:return e=o.sent(),t=document.getElementById("celebrity-image"),n=document.getElementById("divBtn"),r=document.getElementById("score"),t.src=e.celebrity.img,t.classList.add("blur2"),function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(n),e.wordBank.names.map((function(o){var i=document.createElement("button");i.classList.add("btn","btn-light","w-25","border-dark","margin-25"),i.innerText=o,i.addEventListener("click",(function(){return function(e,t,n,r,o){l||(e===n.celebrity.name?(t.classList.remove("btn-light"),t.classList.add("btn-success"),l=!0,f+=10,r.innerText="".concat(a()," score ").concat(f),v(o)):(function(){var e=document.getElementById("celebrity-image");if(e.classList.contains("blur2"))return e.classList.add("blur1"),void e.classList.remove("blur2");e.classList.remove("blur1")}(),t.classList.remove("btn-light"),t.classList.add("btn-danger"),t.setAttribute("disabled",""),3==++d&&(v(o),l=!0,document.querySelectorAll(".btn").forEach((function(e){if(e instanceof HTMLButtonElement){var t=e;t.innerText===n.celebrity.name&&(t.classList.remove("btn-light"),t.classList.add("btn-success"))}}))),document.getElementById("score").textContent="".concat(a()," Score: ").concat(f)))}(o,i,e,r,t)}),!1),n.appendChild(i)})),[2]}}))}))}function v(t){t.classList.remove("blur2","blur1"),setTimeout((function(){if(h>=m)return function(t){var n,r=null===(n=localStorage.getItem(e))?[]:JSON.parse(n);if(r.some((function(e){return t.username===e.username}))){var o=r.findIndex((function(e){return t.username===e.username}));if(r[o].score>t.score)return;r[o]=t}else r.push(t);localStorage.setItem(e,JSON.stringify(r))}({username:a(),score:f}),location.href="scoreboard.html";p()}),3e3),d=0}window.addEventListener("load",p),document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("newCelebrity");e&&e.addEventListener("click",p)}))})();